var ProductTour;!function(e){ProductTour=function(t){function n(){var n=e(".cd-tour-wrapper"),s=n.children("li"),a=s.length,v=e(".cd-cover-layer"),f=e(".cd-more-info"),m=e("#cd-tour-trigger");e(".overlay-tour").css({display:"block"}),i(s,a),t.html?(e(".cd-next").html(t.next),e(".cd-prev").html(t.prev)):(e(".cd-next").text(t.next),e(".cd-prev").text(t.prev)),e(u[c()]).addClass("tour-target-element"),m.on("click",function(){n.hasClass("active")||(n.addClass("active"),o(s.eq(0),v))}),f.on("click",".cd-prev",function(t){!e(t.target).hasClass("inactive")&&l(s,v,"prev")}),f.on("click",".cd-next",function(t){!e(t.target).hasClass("inactive")&&l(s,v,"next")}),f.on("click",".cd-close",function(i){r(s,n,v),e.isFunction(t.onClosed)&&t.onClosed(e(p[c()].element))}),f.on("swiperight",function(t){e(this).find(".cd-prev").hasClass("inactive")||"mobile"!=d()||l(s,v,"prev")}),f.on("swipeleft",function(t){e(this).find(".cd-next").hasClass("inactive")||"mobile"!=d()||l(s,v,"next")}),e(document).keyup(function(i){"37"!=i.which||s.filter(".is-selected").find(".cd-prev").hasClass("inactive")?"39"!=i.which||s.filter(".is-selected").find(".cd-next").hasClass("inactive")?"27"==i.which&&(r(s,n,v),e.isFunction(t.onClosed)&&t.onClosed(e(p[c()].element))):l(s,v,"next"):l(s,v,"prev")}),n.hasClass("active")||(n.addClass("active"),o(s.eq(0),v))}function i(t,n){var i='<div class="cd-nav"><span><b class="cd-actual-step">1</b> of '+n+'</span><ul class="cd-tour-nav"><li><a href="javascript:;" class="cd-prev">&#8617; Previous</a></li><li><a href="javascript:;" class="cd-next">Next &#8618;</a></li></ul></div><a href="javascript:;" class="cd-close">Close</a>';t.each(function(t){var o=e(this),s=t+1,a=s<n?"":"inactive",l=1==s?"inactive":"";e(i).find(".cd-next").addClass(a).end().find(".cd-prev").addClass(l).end().find(".cd-actual-step").html(s).end().appendTo(o.children(".cd-more-info"))})}function o(e,t){e.addClass("is-selected").removeClass("move-left"),s(e.children(".cd-more-info")),a(t)}function s(t){if(!(e(window).width()<768)){var n=e(u[c()]).offset().top,i=e(u[c()]).height();n<e(window).scrollTop()&&e("body,html").animate({scrollTop:n-i},"slow"),n+i>e(window).scrollTop()+e(window).height()&&e("body,html").animate({scrollTop:n-i},"slow")}}function a(e){e.addClass("is-visible").on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){e.removeClass("is-visible")})}function l(n,i,s){var a=n.filter(".is-selected"),l="desktop"==d()?300:0;a.removeClass("is-selected"),e(u[c()]).removeClass("tour-target-element"),"next"==s&&a.addClass("move-left"),setTimeout(function(){"next"==s?o(a.next(),i):o(a.prev(),i),e(u[c()]).addClass("tour-target-element"),e.isFunction(t.onChanged)&&t.onChanged(e(p[c()].element))},l)}function c(){var t=e(".cd-tour-wrapper"),n=t.children("li"),i=0;return n.each(function(t,n){e(n).hasClass("is-selected")&&(i=t)}),i}function r(t,n,i){t.removeClass("is-selected move-left"),n.removeClass("active"),i.removeClass("is-visible"),e(".overlay-tour").css({display:"none"}),e(u[c()]).removeClass("tour-target-element")}function d(){return window.getComputedStyle(document.querySelector(".cd-tour-wrapper"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var v=!1,p=[],u=[];t.next=t.next?t.next:"Next",t.prev=t.prev?t.prev:"Previous",t.html="html"in t&&t.html,t.overlay=!("overlay"in t)||t.overlay,t.onStart="function"==typeof t.onStart?t.onStart:void 0,t.onChanged="function"==typeof t.onChanged?t.onChanged:void 0,t.onClosed="function"==typeof t.onClosed?t.onClosed:void 0,this.startTour=function(){e.fn.exists=function(){return this.length>0},e(".cd-tour-wrapper").exists()&&n(),e.isFunction(t.onStart)&&t.onStart()},this.steps=function(n){if(n instanceof Array){if(v)return void console.warn("Tour steps has already been added, you can't add step on the fly, coming on next version");p=n;var i="<ul class='cd-tour-wrapper'>",o="<div><li class='cd-single-step'><span>Step</span><div class='cd-more-info'><h2></h2><p></p><img src=''></div></li></div>",s="";e.each(n,function(t,n){n.element=n.element?n.element:void 0,n.title=n.title?n.title:void 0,n.content=n.content?n.content:"",n.image=n.image?n.image:"images/sample.jpg",n.position=n.position?n.position:"bottom",void 0==n.element?n.element="body":n.element+=":first",u.push(n.element);var i=e(o);if(void 0!=n.title?e("h2",i).text(n.title):e("h2",i).remove(),e("p",i).text(n.content),e(".cd-more-info",i).addClass(n.position),e("img",i).attr("src",n.image),n.element){var a=e(n.element).outerWidth()/2,l=e(n.element).innerHeight()/2,c=e(n.element).offset().top+-12+l,r=e(n.element).offset().left+a;e("li.cd-single-step",i).css({top:c,left:r,height:"10px",width:"10px"})}s+=i.html()}),i+=s+"</ul>",e("body").append(i),t.overlay&&e("body").append("<div class='overlay-tour'></div>"),v=!0}}}}(jQuery);