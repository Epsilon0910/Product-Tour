var ProductTour;!function(e){ProductTour=function(t){function n(){var n=e(".cd-tour-wrapper"),c=n.children("li"),l=c.length,r=e(".cd-cover-layer"),p=e(".cd-more-info"),v=e("#cd-tour-trigger");e(".overlay-tour").css({display:"block"}),i(c,l),e(".cd-next").text(t.nextText),e(".cd-prev").text(t.prevText),e(e("li.cd-single-step input").val()).css({"z-index":90001,position:"relative"}),v.on("click",function(){n.hasClass("active")||(n.addClass("active"),s(c.eq(0),r))}),p.on("click",".cd-prev",function(t){!e(t.target).hasClass("inactive")&&o(c,r,"prev")}),p.on("click",".cd-next",function(t){!e(t.target).hasClass("inactive")&&o(c,r,"next")}),p.on("click",".cd-close",function(e){a(c,n,r)}),p.on("swiperight",function(t){e(this).find(".cd-prev").hasClass("inactive")||"mobile"!=d()||o(c,r,"prev")}),p.on("swipeleft",function(t){e(this).find(".cd-next").hasClass("inactive")||"mobile"!=d()||o(c,r,"next")}),e(document).keyup(function(e){"37"!=e.which||c.filter(".is-selected").find(".cd-prev").hasClass("inactive")?"39"!=e.which||c.filter(".is-selected").find(".cd-next").hasClass("inactive")?"27"==e.which&&a(c,n,r):o(c,r,"next"):o(c,r,"prev")}),n.hasClass("active")||(n.addClass("active"),s(c.eq(0),r))}function i(t,n){var i='<div class="cd-nav"><span><b class="cd-actual-step">1</b> of '+n+'</span><ul class="cd-tour-nav"><li><a href="javascript:;" class="cd-prev">&#171; Previous</a></li><li><a href="javascript:;" class="cd-next">Next &#187;</a></li></ul></div><a href="javascript:;" class="cd-close">Close</a>';t.each(function(t){var s=e(this),c=t+1,l=c<n?"":"inactive",o=1==c?"inactive":"";e(i).find(".cd-next").addClass(l).end().find(".cd-prev").addClass(o).end().find(".cd-actual-step").html(c).end().appendTo(s.children(".cd-more-info"))})}function s(e,t){e.addClass("is-selected").removeClass("move-left"),c(e.children(".cd-more-info")),l(t)}function c(t){if(!(e(window).width()<768)){var n=e(e("li.cd-single-step.is-selected input").val()).offset().top,i=e(e("li.cd-single-step.is-selected input").val()).height();n<e(window).scrollTop()&&e("body,html").animate({scrollTop:n-i},"slow"),n+i>e(window).scrollTop()+e(window).height()&&e("body,html").animate({scrollTop:n-i},"slow")}}function l(e){e.addClass("is-visible").on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){e.removeClass("is-visible")})}function o(t,n,i){var c=t.filter(".is-selected"),l="desktop"==d()?300:0;c.removeClass("is-selected"),e("li.cd-single-step input").each(function(t){e(e(this).val()).removeAttr("style")}),"next"==i&&c.addClass("move-left"),setTimeout(function(){"next"==i?s(c.next(),n):s(c.prev(),n),e(e("li.cd-single-step.is-selected input").val()).css({"z-index":90001,position:"relative"})},l)}function a(n,i,s){n.removeClass("is-selected move-left"),i.removeClass("active"),s.removeClass("is-visible"),e(".overlay-tour").css({display:"none"}),e("li.cd-single-step input").each(function(t){e(e(this).val()).removeAttr("style")}),e.isFunction(t.onFinshFunction)&&t.onFinshFunction()}function d(){return window.getComputedStyle(document.querySelector(".cd-tour-wrapper"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var r=!1;t.nextText=t.nextText?t.nextText:"Next &#187;",t.prevText=t.prevText?t.prevText:"&#171; Previous",t.onFinshFunction=t.onFinshFunction?t.onFinshFunction:void 0,this.startTour=function(){e.fn.exists=function(){return this.length>0},e(".cd-tour-wrapper").exists()&&n()},this.addNewTourSteps=function(t){if(t instanceof Array){if(r)return void console.warn("Tour steps has already been added");for(var n="<ul class='cd-tour-wrapper'>",i=0;i<t.length;i++){t[i].element=!!t[i].element&&t[i].element,t[i].title=t[i].title?t[i].title:"hey... i worked",t[i].content=t[i].content?t[i].content:"",t[i].image=t[i].image?t[i].image:"",t[i]["class"]=t[i]["class"]?t[i]["class"]:"bottom",e(t[i].element).length||(t[i].element="body"),t[i].element||(t[i].element=t[i].element+":first");var s="<div><li class='cd-single-step'><input type='hidden' value=''><span>Step</span><div class='cd-more-info'><h2></h2><p></p><img src='images/wow.jpg'></div></li></div>",c=e(s);if(e("h2",c).text(t[i].title),e("p",c).text(t[i].content),e(".cd-more-info",c).addClass(t[i]["class"]),e("img",c).text(t[i].content),t[i].element){var l=e(t[i].element).outerWidth()/2,o=e(t[i].element).outerHeight()-10,a=e(t[i].element).offset().top+o,d=e(t[i].element).offset().left+l;e("input",c).val(t[i].element),e("li.cd-single-step",c).css({top:a,left:d,height:"10px",width:"10px"})}n=n.concat(c.html())}n=n.concat("</ul>"),e("body").append(n),e("body").append("<div class='overlay-tour'></div>"),r=!0}}}}(jQuery);